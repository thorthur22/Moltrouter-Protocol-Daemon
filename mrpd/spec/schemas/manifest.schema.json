{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://www.moltrouter.dev/schemas/mrp/0.1/manifest.schema.json",
  "title": "MRP Capability Manifest (0.1)",
  "type": "object",
  "additionalProperties": false,
  "required": ["capability_id", "capability", "version", "inputs", "outputs", "endpoints"],
  "properties": {
    "capability_id": {"type": "string"},
    "capability": {"type": "string"},
    "version": {"type": "string"},
    "tags": {"type": "array", "items": {"type": "string"}},
    "inputs": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["type"],
        "properties": {
          "type": {"type": "string"},
          "schema_ref": {"type": "string"}
        }
      }
    },
    "outputs": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["type"],
        "properties": {
          "type": {"type": "string"},
          "schema_ref": {"type": "string"}
        }
      }
    },
    "constraints": {"type": "object", "additionalProperties": true},
    "cost": {"type": "object"},
    "latency": {"type": "object"},
    "proofs_required": {"type": "array", "items": {"type": "string"}},
    "endpoints": {
      "type": "object",
      "additionalProperties": false,
      "required": ["discover", "negotiate", "execute"],
      "properties": {
        "discover": {"type": "string"},
        "negotiate": {"type": "string"},
        "execute": {"type": "string"}
      }
    }
  }
}
